<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Halo Countdown">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>Halo Countdown</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <link rel="image/icon" href="icon.png">
  <meta name="theme-color" content="#b1d8ff">
</head>

<body>
  <div class="app-container">
    <div class="animated-circles-bg"></div>
    <!-- Header Section -->
    <header class="glass-card header">
      <h1 class="welcome-text" id="welcome-text">Welcome, <span id="username">Kaylin</span></h1>
      <button class="add-button" id="add-event-btn" onclick="window.location.href='add.html'">+</button>
    </header>

    <!-- Calendar -->
    <section class="glass-card calendar-section">
      <div id="calendar-header">
        <button id="prev-month">‹</button>
        <h2 id="month-year"></h2>
        <button id="next-month">›</button>
      </div>
      <div id="calendar-days">
        <!-- Days of the week -->
        <div class="day-name">Sun</div>
        <div class="day-name">Mon</div>
        <div class="day-name">Tue</div>
        <div class="day-name">Wed</div>
        <div class="day-name">Thu</div>
        <div class="day-name">Fri</div>
        <div class="day-name">Sat</div>
      </div>
      <div id="calendar-dates">
        <!-- Dates will be generated here -->
      </div>
    </section>
    <!-- Selected Date & Events -->
    <section class="glass-card selected-date-section">
      <h3 id="selected-date-label">Select a date</h3>
      <div id="selected-events">
        <!-- Events will appear here -->
      </div>
    </section>

    <!-- Events Section -->
    <section class="events-section" id="events-section">
      <!-- Content added dynamically by JS -->
    </section>

    <section class="glass-card description-section" id="description-section" style="display: none;">
      <h3>Description</h3>
      <p id="active-description" style="margin-top: 10px; font-size: 0.95rem; line-height: 1.5;"></p>
    </section>

  </div>

  <script>
    (function () {
      emailjs.init('wG03jMNuH9uq_q_pz');
    })();
  </script>

  <script src="script.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      document.body.addEventListener("click", () => {
        if ("Notification" in window && Notification.permission === "default") {
          Notification.requestPermission().then(permission => {
            console.log("Notification permission:", permission);
          });
        }
      }, { once: true }); // only ask once on first interaction
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js')
        .then(() => console.log('✅ Service Worker registered'))
        .catch(err => console.error('Service Worker registration failed:', err));
    }
  </script>

  <script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>


</body>

</html>
